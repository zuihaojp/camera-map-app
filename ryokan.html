<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>温泉旅館口コミサイト</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #333;
      color: white;
      text-align: center;
      padding: 1em 0;
    }

    main {
      padding: 1em;
    }

    h1, h2 {
      margin-bottom: 1em;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    ul li {
      border: 1px solid #ccc;
      margin-bottom: 1em;
      padding: 1em;
    }

    form {
      display: flex;
      flex-direction: column;
    }

    form label {
      margin-bottom: 0.5em;
    }

    form input, form textarea, form select, form button {
      margin-bottom: 1em;
      padding: 0.5em;
    }
  </style>
</head>
<body>
  <header>
    <h1>温泉旅館口コミサイト</h1>
  </header>
  <main>
    <!-- 温泉旅館のリスト -->
    <section id="ryokan-list">
      <h2>旅館一覧</h2>
      <ul id="ryokan-items">
        <!-- JavaScriptで旅館データを表示 -->
      </ul>
    </section>

    <!-- 口コミ投稿フォーム -->
    <section id="add-review">
      <h2>口コミを投稿</h2>
      <form id="review-form">
        <label for="ryokan-name">旅館名:</label>
        <select id="ryokan-name" required>
          <!-- JavaScriptで選択肢を追加 -->
        </select>

        <label for="review-text">口コミ:</label>
        <textarea id="review-text" rows="5" required></textarea>

        <label for="review-rating">評価 (1〜5):</label>
        <input type="number" id="review-rating" min="1" max="5" required>

        <button type="submit">投稿する</button>
      </form>
    </section>
  </main>
  <script>
    // 旅館データ
    const ryokans = [
      { name: "山の宿 たかくら", reviews: [] },
      { name: "海の旅館 しおさい", reviews: [] },
      { name: "癒しの湯 さくら亭", reviews: [] }
    ];

    // ページが読み込まれたときの処理
    window.onload = function () {
      displayRyokanList();
      populateRyokanDropdown();
    };

    // 旅館リストを表示
    function displayRyokanList() {
      const ryokanItems = document.getElementById("ryokan-items");
      ryokanItems.innerHTML = "";

      ryokans.forEach(ryokan => {
        const li = document.createElement("li");
        li.innerHTML = `
          <h3>${ryokan.name}</h3>
          <ul>
            ${ryokan.reviews.length > 0
              ? ryokan.reviews.map(review => `
                <li>
                  <p>${review.text}</p>
                  <p><strong>評価:</strong> ${review.rating} / 5</p>
                </li>
              `).join("")
              : "<li>まだ口コミがありません。</li>"
            }
          </ul>
        `;
        ryokanItems.appendChild(li);
      });
    }

    // ドロップダウンに旅館名を追加
    function populateRyokanDropdown() {
      const ryokanNameDropdown = document.getElementById("ryokan-name");
      ryokans.forEach(ryokan => {
        const option = document.createElement("option");
        option.value = ryokan.name;
        option.textContent = ryokan.name;
        ryokanNameDropdown.appendChild(option);
      });
    }

    // 口コミを投稿
    document.getElementById("review-form").addEventListener("submit", function (e) {
      e.preventDefault();

      const ryokanName = document.getElementById("ryokan-name").value;
      const reviewText = document.getElementById("review-text").value;
      const reviewRating = parseInt(document.getElementById("review-rating").value);

      const ryokan = ryokans.find(r => r.name === ryokanName);
      if (ryokan) {
        ryokan.reviews.push({ text: reviewText, rating: reviewRating });
      }

      displayRyokanList();
      this.reset();
    });
  </script>
</body>
</html>
