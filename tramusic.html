<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LyricsTranslator - Èü≥Ê•ΩÊ≠åË©ûÁøªË®≥</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .header {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: rotate(45deg);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }

        .main-content {
            padding: 40px;
        }

        .translation-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .input-panel, .output-panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .input-panel:hover, .output-panel:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15);
        }

        .panel-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .panel-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #333;
        }

        .language-select {
            padding: 8px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            background: white;
            font-size: 14px;
            transition: border-color 0.3s ease;
        }

        .language-select:focus {
            outline: none;
            border-color: #4ecdc4;
        }

        .lyrics-textarea {
            width: 100%;
            height: 300px;
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            font-size: 16px;
            line-height: 1.6;
            resize: vertical;
            transition: border-color 0.3s ease;
            font-family: inherit;
        }

        .lyrics-textarea:focus {
            outline: none;
            border-color: #4ecdc4;
        }

        .output-textarea {
            background: #f8f9fa;
            color: #333;
        }

        .controls {
            text-align: center;
            margin: 30px 0;
        }

        .translate-btn {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .translate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .translate-btn:active {
            transform: translateY(0);
        }

        .translate-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .translate-btn:hover::before {
            left: 100%;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .feature-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 3em;
            margin-bottom: 15px;
        }

        .feature-title {
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 10px;
            color: #333;
        }

        .feature-description {
            color: #666;
            line-height: 1.5;
        }

        .loading {
            display: none;
            text-align: center;
            color: #4ecdc4;
            font-weight: 600;
        }

        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #4ecdc4;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .translation-section {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .main-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéµ LyricsTranslator</h1>
            <p>„ÅÇ„Å™„Åü„ÅÆÂ•Ω„Åç„Å™Èü≥Ê•Ω„ÅÆÊ≠åË©û„ÇíÁû¨ÊôÇ„Å´ÁøªË®≥</p>
        </div>
        
        <div class="main-content">
            <div class="translation-section">
                <div class="input-panel">
                    <div class="panel-header">
                        <h3 class="panel-title">ÂéüÊñáÊ≠åË©û</h3>
                        <select class="language-select" id="sourceLanguage">
                            <option value="en">English</option>
                            <option value="ja">Êó•Êú¨Ë™û</option>
                            <option value="ko">ÌïúÍµ≠Ïñ¥</option>
                            <option value="zh">‰∏≠Êñá</option>
                            <option value="es">Espa√±ol</option>
                            <option value="fr">Fran√ßais</option>
                            <option value="de">Deutsch</option>
                            <option value="it">Italiano</option>
                            <option value="pt">Portugu√™s</option>
                            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                        </select>
                    </div>
                    <textarea 
                        class="lyrics-textarea" 
                        id="sourceLyrics" 
                        placeholder="„Åì„Åì„Å´Ê≠åË©û„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ...&#10;&#10;‰æãÔºö&#10;Yesterday, all my troubles seemed so far away&#10;Now it looks as though they're here to stay&#10;Oh, I believe in yesterday"
                    ></textarea>
                </div>
                
                <div class="output-panel">
                    <div class="panel-header">
                        <h3 class="panel-title">ÁøªË®≥ÁµêÊûú</h3>
                        <select class="language-select" id="targetLanguage">
                            <option value="ja">Êó•Êú¨Ë™û</option>
                            <option value="en">English</option>
                            <option value="ko">ÌïúÍµ≠Ïñ¥</option>
                            <option value="zh">‰∏≠Êñá</option>
                            <option value="es">Espa√±ol</option>
                            <option value="fr">Fran√ßais</option>
                            <option value="de">Deutsch</option>
                            <option value="it">Italiano</option>
                            <option value="pt">Portugu√™s</option>
                            <option value="ru">–†—É—Å—Å–∫–∏–π</option>
                        </select>
                    </div>
                    <textarea 
                        class="lyrics-textarea output-textarea" 
                        id="translatedLyrics" 
                        placeholder="ÁøªË®≥„Åï„Çå„ÅüÊ≠åË©û„Åå„Åì„Åì„Å´Ë°®Á§∫„Åï„Çå„Åæ„Åô..."
                        readonly
                    ></textarea>
                </div>
            </div>
            
            <div class="controls">
                <button class="translate-btn" onclick="translateLyrics()">
                    üåê ÁøªË®≥„Åô„Çã
                </button>
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    ÁøªË®≥‰∏≠...
                </div>
            </div>
            
            <div class="features">
                <div class="feature-card">
                    <div class="feature-icon">üéØ</div>
                    <h4 class="feature-title">È´òÁ≤æÂ∫¶ÁøªË®≥</h4>
                    <p class="feature-description">ÊúÄÊñ∞„ÅÆAIÊäÄË°ì„Çí‰ΩøÁî®„Åó„Å¶„ÄÅÊ≠åË©û„ÅÆÊÑèÂë≥„Å®„Éã„É•„Ç¢„É≥„Çπ„ÇíÊ≠£Á¢∫„Å´ÁøªË®≥„Åó„Åæ„Åô„ÄÇ</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üåç</div>
                    <h4 class="feature-title">Â§öË®ÄË™ûÂØæÂøú</h4>
                    <p class="feature-description">10‰ª•‰∏ä„ÅÆË®ÄË™û„Å´ÂØæÂøú„ÄÇ‰∏ñÁïå‰∏≠„ÅÆÈü≥Ê•Ω„ÇíÊ•Ω„Åó„ÇÄ„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h4 class="feature-title">Áû¨ÊôÇÁøªË®≥</h4>
                    <p class="feature-description">„É™„Ç¢„É´„Çø„Ç§„É†„ÅßÁøªË®≥ÁµêÊûú„ÇíË°®Á§∫„ÄÇÂæÖ„Å°ÊôÇÈñì„Å™„Åó„ÅßÊ≠åË©û„ÇíÁêÜËß£„Åß„Åç„Åæ„Åô„ÄÇ</p>
                </div>
                
                <div class="feature-card">
                    <div class="feature-icon">üé®</div>
                    <h4 class="feature-title">Ë©©ÁöÑË°®Áèæ‰øùÊåÅ</h4>
                    <p class="feature-description">Ê≠åË©û„ÅÆË©©ÁöÑ„Å™Áæé„Åó„Åï„Å®ÈüªÂæã„ÇíÂèØËÉΩ„Å™Èôê„Çä‰øùÊåÅ„Åó„ÅüÁøªË®≥„ÇíÊèê‰æõ„Åó„Åæ„Åô„ÄÇ</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Ë®ÄË™û„Ç≥„Éº„Éâ„Å®ÂêçÂâç„ÅÆ„Éû„ÉÉ„Éî„É≥„Ç∞
        const languageNames = {
            'en': 'English',
            'ja': 'Êó•Êú¨Ë™û',
            'ko': 'ÌïúÍµ≠Ïñ¥',
            'zh': '‰∏≠Êñá',
            'es': 'Espa√±ol',
            'fr': 'Fran√ßais',
            'de': 'Deutsch',
            'it': 'Italiano',
            'pt': 'Portugu√™s',
            'ru': '–†—É—Å—Å–∫–∏–π'
        };

        // Google Translate APIÔºàÁÑ°ÊñôÁâàÔºâ„Çí‰ΩøÁî®„Åó„ÅüÁøªË®≥Ê©üËÉΩ
        async function translateLyrics() {
            const sourceLyrics = document.getElementById('sourceLyrics').value.trim();
            const sourceLanguage = document.getElementById('sourceLanguage').value;
            const targetLanguage = document.getElementById('targetLanguage').value;
            const loading = document.getElementById('loading');
            const translatedTextarea = document.getElementById('translatedLyrics');

            if (!sourceLyrics) {
                alert('Ê≠åË©û„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
                return;
            }

            if (sourceLanguage === targetLanguage) {
                alert('Áï∞„Å™„ÇãË®ÄË™û„ÇíÈÅ∏Êäû„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ');
                return;
            }

            // „É≠„Éº„Éá„Ç£„É≥„Ç∞Ë°®Á§∫
            loading.style.display = 'block';
            translatedTextarea.value = '';

            try {
                // Google Translate API„Çí‰ΩøÁî®ÔºàÁÑ°ÊñôÁâàÔºâ
                const url = `https://translate.googleapis.com/translate_a/single?client=gtx&sl=${sourceLanguage}&tl=${targetLanguage}&dt=t&q=${encodeURIComponent(sourceLyrics)}`;
                
                const response = await fetch(url);
                const data = await response.json();
                
                // „É¨„Çπ„Éù„É≥„Çπ„Åã„ÇâÁøªË®≥„ÉÜ„Ç≠„Çπ„Éà„ÇíÊäΩÂá∫
                let translatedText = '';
                if (data && data[0]) {
                    data[0].forEach(item => {
                        if (item[0]) {
                            translatedText += item[0];
                        }
                    });
                }

                if (translatedText) {
                    translatedTextarea.value = translatedText;
                } else {
                    throw new Error('ÁøªË®≥„Å´Â§±Êïó„Åó„Åæ„Åó„Åü');
                }

            } catch (error) {
                console.error('ÁøªË®≥„Ç®„É©„Éº:', error);
                
                // „Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºöMyMemoryÁøªË®≥API„ÇíË©¶Ë°å
                try {
                    const fallbackUrl = `https://api.mymemory.translated.net/get?q=${encodeURIComponent(sourceLyrics)}&langpair=${sourceLanguage}|${targetLanguage}`;
                    const fallbackResponse = await fetch(fallbackUrl);
                    const fallbackData = await fallbackResponse.json();
                    
                    if (fallbackData.responseData && fallbackData.responseData.translatedText) {
                        translatedTextarea.value = fallbackData.responseData.translatedText;
                    } else {
                        throw new Error('„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÁøªË®≥„ÇÇÂ§±Êïó');
                    }
                } catch (fallbackError) {
                    console.error('„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÁøªË®≥„Ç®„É©„Éº:', fallbackError);
                    
                    // ÊúÄÁµÇ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºöÂü∫Êú¨ÁöÑ„Å™ÂçòË™ûÁøªË®≥
                    const basicTranslation = performBasicTranslation(sourceLyrics, sourceLanguage, targetLanguage);
                    translatedTextarea.value = basicTranslation;
                }
            }

            loading.style.display = 'none';

            // ÁøªË®≥ÂÆå‰∫Ü„ÅÆ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥
            translatedTextarea.style.opacity = '0';
            setTimeout(() => {
                translatedTextarea.style.transition = 'opacity 0.5s ease';
                translatedTextarea.style.opacity = '1';
            }, 100);
        }

        // Âü∫Êú¨ÁöÑ„Å™ÂçòË™ûÁøªË®≥ÔºàÊúÄÁµÇ„Éï„Ç©„Éº„É´„Éê„ÉÉ„ÇØÔºâ
        function performBasicTranslation(text, sourceLang, targetLang) {
            const basicDictionary = {
                'en-ja': {
                    'hello': '„Åì„Çì„Å´„Å°„ÅØ', 'love': 'ÊÑõ', 'heart': 'ÂøÉ', 'dream': 'Â§¢', 'hope': 'Â∏åÊúõ',
                    'smile': 'Á¨ëÈ°î', 'forever': 'Ê∞∏ÈÅ†„Å´', 'together': '‰∏ÄÁ∑í„Å´', 'beautiful': 'Áæé„Åó„ÅÑ',
                    'yesterday': 'Êò®Êó•', 'today': '‰ªäÊó•', 'tomorrow': 'ÊòéÊó•', 'night': 'Â§ú', 'day': 'Êó•',
                    'music': 'Èü≥Ê•Ω', 'song': 'Ê≠å', 'dance': 'Ë∏ä„Çä', 'happy': 'Âπ∏„Åõ', 'sad': 'ÊÇ≤„Åó„ÅÑ',
                    'world': '‰∏ñÁïå', 'life': '‰∫∫Áîü', 'time': 'ÊôÇÈñì', 'friend': 'ÂèãÈÅî', 'family': 'ÂÆ∂Êóè'
                },
                'ja-en': {
                    '„Åì„Çì„Å´„Å°„ÅØ': 'hello', 'ÊÑõ': 'love', 'ÂøÉ': 'heart', 'Â§¢': 'dream', 'Â∏åÊúõ': 'hope',
                    'Á¨ëÈ°î': 'smile', 'Ê∞∏ÈÅ†': 'forever', '‰∏ÄÁ∑í': 'together', 'Áæé„Åó„ÅÑ': 'beautiful',
                    'Êò®Êó•': 'yesterday', '‰ªäÊó•': 'today', 'ÊòéÊó•': 'tomorrow', 'Â§ú': 'night', 'Êó•': 'day',
                    'Èü≥Ê•Ω': 'music', 'Ê≠å': 'song', 'Ë∏ä„Çä': 'dance', 'Âπ∏„Åõ': 'happy', 'ÊÇ≤„Åó„ÅÑ': 'sad',
                    '‰∏ñÁïå': 'world', '‰∫∫Áîü': 'life', 'ÊôÇÈñì': 'time', 'ÂèãÈÅî': 'friend', 'ÂÆ∂Êóè': 'family'
                },
                'en-ko': {
                    'love': 'ÏÇ¨Îûë', 'heart': 'ÎßàÏùå', 'dream': 'Íøà', 'beautiful': 'ÏïÑÎ¶ÑÎã§Ïö¥',
                    'hello': 'ÏïàÎÖïÌïòÏÑ∏Ïöî', 'music': 'ÏùåÏïÖ', 'song': 'ÎÖ∏Îûò', 'happy': 'ÌñâÎ≥µÌïú'
                },
                'en-zh': {
                    'love': 'Áà±', 'heart': 'ÂøÉ', 'dream': 'Ê¢¶', 'beautiful': 'Áæé‰∏Ω',
                    'hello': '‰Ω†Â•Ω', 'music': 'Èü≥‰πê', 'song': 'Ê≠åÊõ≤', 'happy': 'Âø´‰πê'
                }
            };

            const key = `${sourceLang}-${targetLang}`;
            const dictionary = basicDictionary[key];
            
            if (!dictionary) {
                return `[${languageNames[sourceLang]} ‚Üí ${languageNames[targetLang]}]\n\n${text}\n\n‚Äª „Åì„ÅÆË®ÄË™û„Éö„Ç¢„ÅÆÁøªË®≥ËæûÊõ∏„ÅåË¶ã„Å§„Åã„Çä„Åæ„Åõ„Çì„Åß„Åó„Åü„ÄÇÂÆüÈöõ„ÅÆ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Åß„ÅØ„ÄÅ„Çà„ÇäÂ§ö„Åè„ÅÆË®ÄË™û„Å´ÂØæÂøú„Åó„ÅüÁøªË®≥API„Çí‰ΩøÁî®„Åó„Åæ„Åô„ÄÇ`;
            }

            let translatedText = text;
            Object.keys(dictionary).forEach(word => {
                const regex = new RegExp(`\\b${word}\\b`, 'gi');
                translatedText = translatedText.replace(regex, dictionary[word]);
            });

            return translatedText;
        }

        // „Ç®„É≥„Çø„Éº„Ç≠„Éº„Åß„ÅÆÁøªË®≥ÂÆüË°å
        document.getElementById('sourceLyrics').addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                translateLyrics();
            }
        });

        // Ë®ÄË™ûÂ§âÊõ¥ÊôÇ„ÅÆËá™ÂãïÁøªË®≥Ôºà„Ç™„Éó„Ç∑„Éß„É≥Ôºâ
        document.getElementById('sourceLanguage').addEventListener('change', function() {
            const sourceLyrics = document.getElementById('sourceLyrics').value.trim();
            if (sourceLyrics) {
                // Ëá™Âãï„ÅßÂÜçÁøªË®≥„Åô„Çã„Åì„Å®„ÇÇÂèØËÉΩ
            }
        });

        document.getElementById('targetLanguage').addEventListener('change', function() {
            const sourceLyrics = document.getElementById('sourceLyrics').value.trim();
            if (sourceLyrics) {
                // Ëá™Âãï„ÅßÂÜçÁøªË®≥„Åô„Çã„Åì„Å®„ÇÇÂèØËÉΩ
            }
        });

        // „ÇØ„É™„ÉÉ„Éó„Éú„Éº„Éâ„Ç≥„Éî„ÉºÊ©üËÉΩ
        document.getElementById('translatedLyrics').addEventListener('dblclick', function() {
            this.select();
            document.execCommand('copy');
            
            // „Ç≥„Éî„ÉºÂÆå‰∫Ü„ÅÆÈÄöÁü•
            const originalBg = this.style.backgroundColor;
            this.style.backgroundColor = '#e8f5e8';
            setTimeout(() => {
                this.style.backgroundColor = originalBg;
            }, 300);
        });
    </script>
</body>
</html>

